"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[542],{543:function(e,n,t){function r(e,n,t,r,c,o,a){try{var u=e[o](a),i=u.value}catch(s){return void t(s)}u.done?n(i):Promise.resolve(i).then(r,c)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(c,o){var a=e.apply(n,t);function u(e){r(a,c,o,u,i,"next",e)}function i(e){r(a,c,o,u,i,"throw",e)}u(void 0)}))}}t.d(n,{IQ:function(){return d},yK:function(){return p},NV:function(){return l},Jh:function(){return v},Hg:function(){return h}});var o=t(687),a=t.n(o),u="https://api.themoviedb.org/3/",i="b4056054434cdd7bb4744d2179c9434f";function s(){return f.apply(this,arguments)}function f(){return f=c(a().mark((function e(){var n,t,r,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"",t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(n,t);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not Found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function h(){return s("".concat(u,"/trending/movie/day?api_key=").concat(i))}function l(e){return s("".concat(u,"/search/movie?query=").concat(e,"&api_key=").concat(i,"&language=en-US&page=1&include_adult=false"))}function p(e){return s("".concat(u,"/movie/").concat(e,"?api_key=").concat(i))}function d(e){return s("".concat(u,"/movie/").concat(e,"/credits?api_key=").concat(i))}function v(e){return s("".concat(u,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&page=1"))}},542:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(439),c=t(856),o=t(791),a=t(596),u=t(184);function i(e){var n=(0,o.useState)(e.search),t=(0,r.Z)(n,2),i=t[0],s=t[1];return(0,u.jsxs)(c.l0,{onSubmit:function(n){if(n.preventDefault(),""===i.trim())return a.Am.error("Enter your query");e.searchProps(i),s("")},children:[(0,u.jsx)(c.II,{name:"search",autoComplete:"off",autoFocus:!0,placeholder:"what r u gonna watch?:)",value:i,type:"search",onChange:function(e){s(e.target.value)}}),(0,u.jsx)(c.zx,{type:"submit",children:"Search"})]})}var s=t(87),f=t(689),h=t(543);function l(){var e=(0,s.lr)(),n=(0,r.Z)(e,1)[0],t=(0,o.useState)(n.get("query")||""),c=(0,r.Z)(t,2),l=c[0],p=c[1],d=(0,o.useState)([]),v=(0,r.Z)(d,2),m=v[0],y=v[1],x=(0,f.TH)(),g=(0,f.s0)();(0,o.useEffect)((function(){l&&h.NV(l).then((function(e){if(0===e.results.length)return a.Am.info("Sorry, there are no more movies matching your search query!!!");y(e.results)}))}),[l]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("header",{text:"SEARCH MOVIES"}),(0,u.jsx)(i,{searchProps:function(e){g("/movies/?query=".concat(e)),p(e),y([])},search:l}),m&&m.length>0?(0,u.jsx)("ul",{children:m.map((function(e){var n=e.id,t=e.title;return(0,u.jsx)("li",{children:(0,u.jsx)(s.OL,{to:"/movies/".concat(n),state:x,children:(0,u.jsx)("li",{children:(0,u.jsx)("p",{children:t})})})},n)}))}):(0,u.jsx)("p",{})]})}}}]);
//# sourceMappingURL=542.d9127c10.chunk.js.map